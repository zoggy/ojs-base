version = "@VERSION@"
description = "Library to develop web apps using websockets and js_of_ocaml"
requires = "@PACKAGES@"
archive(byte) = "ojs-base.cma"
archive(native) = "ojs-base.cmxa"
archive(plugin,byte) = "ojs-base.cma"
archive(plugin,native) = "ojs-base.cmxs"
ppx(byte) = "./ppx_ojs.byte"
ppx(-byte) = "./ppx_ojs"

package "server" (
  version = "@VERSION@"
  requires = "ojs"
  descrption = "Server code"
  archive(byte) = "ojs-base-server.cma"
  archive(native) = "ojs-base-server.cmxa"
  archive(plugin,byte) = "ojs-base-server.cma"
  archive(plugin,native) = "ojs-base-server.cmxs"
)
package "js" (
  version = "@VERSION@"
  requires = "ojs,@JS_PACKAGES@"
  description = "Client code"
  archive(byte) = "ojs-base-js.cma"
)

package "filetree" (
  version = "@VERSION@"
  description = "Editing server-side file tree in web pages"
  requires = "ojs"
  archive(byte) = "ojs-filetree.cma"
  archive(native) = "ojs-filetree.cmxa"
  archive(plugin,byte) = "ojs-filetree.cma"
  archive(plugin,native) = "ojs-filetree.cmxs"

  package "server" (
    version = "@VERSION@"
    description = "Editing server-side file tree in web pages"
    requires = "ojs.filetree"
    archive(byte) = "ojs-filetree-server.cma"
    archive(native) = "ojs-filetree-server.cmxa"
    archive(plugin,byte) = "ojs-filetree-server.cma"
    archive(plugin,native) = "ojs-filetree-server.cmxs"
  )

  package "js" (
    version = "@VERSION@"
    requires = "ojs.filetree,@JS_PACKAGES@"
    description = "Editing server-side file tree in web page - client code"
    archive(byte) = "ojs-filetree-js.cma"
  )
)

package "editor" (
  version = "@VERSION@"
  description = "Editing server-side files in web pages"
  requires = "ojs"
  archive(byte) = "ojs-editor.cma"
  archive(native) = "ojs-editor.cmxa"
  archive(plugin,byte) = "ojs-editor.cma"
  archive(plugin,native) = "ojs-editor.cmxs"

  package "server" (
    version = "@VERSION@"
    description = "Editing server-side files in web pages"
    requires = "ojs.editor"
    archive(byte) = "ojs-editor-server.cma"
    archive(native) = "ojs-editor-server.cmxa"
    archive(plugin,byte) = "ojs-editor-server.cma"
    archive(plugin,native) = "ojs-editor-server.cmxs"
  )

  package "js" (
    version = "@VERSION@"
    requires = "ojs.editor,@JS_PACKAGES@"
    description = "Editing server-side files in web page - client code"
    archive(byte) = "ojs-editor-js.cma"
  )
)
